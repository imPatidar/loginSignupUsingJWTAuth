{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { useState, useEffect } from \"react\";\nimport Router from 'next/router';\nimport AuthRepo from '../repository/authRepo';\nimport axios from 'axios';\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nconst Signup = () => {\n  const {\n    0: loginResponse,\n    1: setloginResponse\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState('');\n\n  const onFinish = values => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const onSubmit = () => {\n    let x = new AuthRepo();\n    axios.post(x.login, {\n      email: email,\n      password: password\n    }).then(res => {\n      localStorage.setItem('token', res.data.token);\n      Router.push('/contact');\n    }).catch(err => {\n      console.log(err);\n      setError(err.message);\n    });\n  };\n\n  return __jsx(Form, null, __jsx(\"p\", {\n    style: {\n      color: 'red'\n    }\n  }, error), __jsx(\"p\", {\n    style: {\n      color: 'green'\n    }\n  }, loginResponse), __jsx(Form.Item, {\n    label: \"Email\",\n    name: \"email\",\n    onChange: event => setEmail(event.target.value),\n    rules: [{\n      required: true,\n      message: 'Please input your email!'\n    }]\n  }, __jsx(Input, null)), __jsx(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    onChange: event => setPassword(event.target.value),\n    rules: [{\n      required: true,\n      message: 'Please input your password!'\n    }]\n  }, __jsx(Input.Password, null)), __jsx(Form.Item, _extends({}, tailLayout, {\n    name: \"remember\"\n  }), __jsx(Checkbox, null, \"Remember me\")), __jsx(Form.Item, tailLayout, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    onClick: onSubmit\n  }, \"Submit\")));\n};\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}